<launch>
    <include file="$(find sp_core)/launch/laser_filter.launch">
        <arg name="cloud_out" value="/people_cloud"/>
    </include>
    <node pkg="pointcloud_to_laserscan" type="pointcloud_to_laserscan_node" name="p2l">
        <remap from="cloud_in" to="/people_cloud" />
        <remap from="scan" to="/scan_cropped"/>
        <rosparam>
            target_frame: base_link
        </rosparam>
    </node>
    <node pkg="leg_detector" type="leg_detector" name="leg_detector" args="scan:=/scan_cropped $(find leg_detector)/config/trained_leg_detector.yaml" output="screen">
        <param name="fixed_frame" value="map" />
        <param name="leg_reliability_limit" value="0.6" type="double" />
    </node>
    <!-- <node name="velocity_tracker" pkg="people_velocity_tracker" type="tracker.py" respawn="true" /> -->
</launch>
